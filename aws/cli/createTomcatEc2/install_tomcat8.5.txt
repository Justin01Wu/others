#!/bin/bash

# update all installation
yum update -y

# install JDK 8
yum install java-1.8.0-openjdk-devel -y

yum install git -y
yum install maven -y

# get my web application
cd /usr
mkdir ui
cd ui
git clone https://github.com/Justin01Wu/webUI.git
cd webUI
mvn clean package

# install Tomcat 8 
amazon-linux-extras install tomcat8.5 -y

# start tomcat as a service
service tomcat.service start

# install web application
cp /usr/ui/webUI/target/webUI-1.0-SNAPSHOT.war /usr/share/tomcat/webapps/webUI.war

#Set Auto Start for Tomcat Service
systemctl enable tomcat.service